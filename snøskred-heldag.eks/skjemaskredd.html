<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>skjema</title>

    <style>
    
      table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
      }

      td {
        border: 1px solid red;
        text-align: left;
        padding: 8px;
      }

      tr:nth-child(even) {
        background-color: rgb(213, 214, 213);
      }
      th {
        border: 1px solid blue;
        text-align: left;
        padding: 8px;
      }

      </style>
</head>
<body>


    <h1>oversikt over skreddfarer</h1><br>

     <!---Knapper for sortering-->
     <button id="btn_alfa">Sorter alfabetisk</button>
     <button id="btn_fare">Sorter etter skredfarer</button><br><br>

    <!----starter tabell---->
    <table id="tabell">
        <tr>
          <th>Region</th>
          <th>Sted</th>
          <th>Skredd fare</th>
        </tr>
        <!----fylles av js-->

      </table>

      <script>
        //henter html el.
        let htmlTabell= document.getElementById("tabell");

        /*-------------------------------
        lager liste med ønsket regioner
        --------------------------------*/

        var skredObservasjonar = [  
            {område: "Vestland", stednavn: "Oksen", skredfare : tallGenerator(1,5)}, 
            {område: "Østlandet", stednavn: "Vassfjøro", skredfare: tallGenerator(1,5)}, 
            {område: "Nord-Norge", stednavn: "Lyngen", skredfare: tallGenerator(1,5)}, 
            {område: "Hordaland", stednavn: "Ingebjørgfjellet", skredfare: tallGenerator(1,5)},
            {område: "Song og fjordane", stednavn: "Lofoten", skredfare: tallGenerator(1,5)}
        ]

        /*-------------------------------
        lager tabellen med info
        --------------------------------*/
      
          for(let info of skredObservasjonar){
            //henter ut stedene, regionene og faren
            //htmlTabell.innerHTML+="<tr><td><a href="+info.område+">"+info.område+"</td><td>"+info.stednavn+"</td><td>"+info.skredfare+"</td></tr>";

              //sjekker i consolen
              console.log(info);
              //lager rad 
              let rad = document.createElement("tr");
              //lager celler som skal være i raden
              let celle1 = document.createElement("td");
              let celle2 = document.createElement("td");
              let celle3 = document.createElement("td");
              //lager link for områdene
              let link = document.createElement("a");

              //får områdene som linker
              link.href=info.område;
              link.innerHTML=info.område;

              //legger den til i celler
              celle1.appendChild(link);
              celle2.innerHTML+=info.stednavn;
              celle3.innerHTML+=info.skredfare;

              //aktiverer funksjonen som vurderer skredfaren
              f_fare(celle3);

              //limer inn cellene i raden
              rad.appendChild(celle1);
              rad.appendChild(celle2);
              rad.appendChild(celle3);
              //limer raden inn i html-tabell
              htmlTabell.appendChild(rad);

          }

          //funksjon som gir vurderer skredfare
          function f_fare(celle){
            //finnner først fare nivåe og gjør det om til tall
            let fareNivå = Number(celle.innerHTML);

              //gir beskjeder om ulike nivåer av skredfare
              //nivå 1-2
              if(fareNivå<3){
                celle.innerHTML+=" - lite farlig";
                celle.style.backgroundColor=" green";
 
              }
              //nivå 3-4
              else if(fareNivå<5){
                celle.innerHTML+=" - ganske farlig";
                celle.style.backgroundColor="orange";


              }
              //når nivået = 5 er det farlig og rødt nivå
              else{
                celle.innerHTML+=" - altfor farlig";
                celle.style.backgroundColor="red";
             
              }
          }

        //funksjon som hjelper oss med å finne tall
        function tallGenerator(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1) + min); //Max og min tallet er inkludert
        }
            
         
      </script>
      
</body>
</html>